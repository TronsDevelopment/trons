<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>DutaStats v2 ‚Äî Welcome</title>
  <meta name="description" content="DutaStats v2 ‚Äî free, fast, and reliable Minecraft server status API. Author: Tronsar"/>

  <style>
    :root {
      --bg: #050810;
      --card: rgba(20, 25, 40, 0.6);
      --accent: #8b5cf6;
      --accent-glow: #a78bfa;
      --muted: #9ca3af;
      --text: #e2e8f0;
      --radius: 16px;
      --blur: 20px;
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: "Inter", ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto;
      background: radial-gradient(circle at 20% 20%, #0a0f1f, #03040a);
      color: var(--text);
      min-height: 100vh;
      -webkit-font-smoothing: antialiased;
      animation: fadeIn 1.2s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(12px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .wrap { max-width: 1000px; margin: 60px auto; padding: 24px; }

    .card {
      background: var(--card);
      border-radius: var(--radius);
      border: 1px solid rgba(255,255,255,0.1);
      backdrop-filter: blur(var(--blur));
      box-shadow: 0 0 40px rgba(139,92,246,0.15);
      padding: 36px;
      transition: transform .3s ease, box-shadow .3s ease;
    }
    .card:hover {
      transform: translateY(-4px);
      box-shadow: 0 0 50px rgba(139,92,246,0.25);
    }

    h1 {
      font-size: 30px;
      margin: 0 0 6px;
      background: linear-gradient(90deg, var(--accent), #4f46e5);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    p.lead { color: var(--muted); margin: 0 0 16px; }

    .grid {
      display: grid;
      grid-template-columns: 1fr 320px;
      gap: 20px;
      margin-top: 24px;
    }

    .box {
      background: rgba(255,255,255,0.03);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 12px;
      padding: 16px 20px;
      transition: background .3s;
      position: relative;
    }
    .box:hover { background: rgba(255,255,255,0.05); }

    .endpoint {
      position: relative;
      font-family: monospace;
      background: rgba(0,0,0,0.35);
      padding: 8px 10px;
      border-radius: 6px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin: 8px 0;
      font-size: 13px;
      overflow-x: auto;
    }

    .copy-btn {
      background: rgba(255,255,255,0.08);
      border: none;
      color: var(--accent-glow);
      padding: 3px 8px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 12px;
      transition: all .2s;
    }
    .copy-btn:hover {
      background: rgba(255,255,255,0.15);
    }

    .kbd {
      display: inline-block;
      background: rgba(255,255,255,0.05);
      padding: 4px 8px;
      border-radius: 6px;
      font-family: monospace;
      font-size: 13px;
    }

    .btn {
      display: inline-block;
      padding: 11px 18px;
      border-radius: 10px;
      background: linear-gradient(90deg, var(--accent), #4f46e5);
      color: white;
      text-decoration: none;
      font-weight: 600;
      transition: all .25s ease;
      box-shadow: 0 0 12px rgba(139,92,246,0.4);
    }
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 0 20px rgba(139,92,246,0.7);
    }

    .muted { color: var(--muted); font-size: 14px; }

    pre {
      background: rgba(0,0,0,0.3);
      padding: 12px;
      border-radius: 8px;
      overflow-x: auto;
      font-size: 13px;
    }

    footer {
      margin-top: 32px;
      text-align: center;
      color: var(--muted);
      font-size: 13px;
      border-top: 1px solid rgba(255,255,255,0.05);
      padding-top: 14px;
    }

    @media (max-width:880px) {
      .grid { grid-template-columns: 1fr; }
      .wrap { margin: 20px; padding: 18px; }
    }

    header strong { color: var(--accent-glow); }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <header style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
        <div>
          <h1>DutaStats v2 ‚Äî API Welcome</h1>
          <p class="lead">Free-to-use Minecraft Status API ‚Äî fast, minimal, and built for public usage. Author: <strong>Tronsar</strong></p>
        </div>
        <div style="text-align:right">
          <div class="muted">Status: <span id="api-status" style="color:#9ca3af">‚óè Checking...</span></div>
          <div class="muted">Uptime: 24/7</div>
        </div>
      </header>

      <div class="grid">
        <section>
          <div class="box">
            <h3 style="margin:0 0 8px">üöÄ Quickstart</h3>
            <p class="muted">Drop a GET request to any endpoint below. For bulk queries, use <span class="kbd">POST /dutastats/v2/api/multi_status</span> with JSON.</p>

            <div style="margin-top:10px">
              <div class="muted">Endpoints</div>

              <div class="endpoint">GET /dutastats/v2/api/status?host=&lt;server&gt;&amp;type=java|bedrock
                <button class="copy-btn">Copy</button>
              </div>
              <div class="endpoint">GET /dutastats/v2/api/ping?host=&lt;server&gt;&amp;type=java|bedrock
                <button class="copy-btn">Copy</button>
              </div>
              <div class="endpoint">POST /dutastats/v2/api/multi_status {"servers":[{host,type,port}]}
                <button class="copy-btn">Copy</button>
              </div>
              <div class="endpoint">GET /dutastats/v2/api/hypixel?host=mc.hypixel.net
                <button class="copy-btn">Copy</button>
              </div>
            </div>

            <div style="margin-top:14px">
              <a class="btn" href="/dutastats/v2/api/status?host=example.com&type=java">Try example status</a>
            </div>

            <hr style="margin:16px 0;border:none;border-top:1px solid rgba(255,255,255,0.06)"/>

            <h4 style="margin:0 0 8px">Examples</h4>
            <div class="muted">cURL</div>
            <pre>curl "GET /dutastats/v2/api/status?host=play.example.com&amp;type=java"</pre>
          </div>

          <div class="box" style="margin-top:14px">
            <h3 style="margin:0 0 8px">üìò Notes</h3>
            <ul class="muted">
              <li>SRV records auto-resolved for Java servers.</li>
              <li>Responses cached briefly to reduce load.</li>
              <li>Use <span class="kbd">type=bedrock</span> for Bedrock edition.</li>
              <li>Rate-limit responsibly ‚Äî public API, not unlimited.</li>
            </ul>
          </div>
        </section>

        <aside>
          <div class="box">
            <h4 style="margin:0 0 8px">üì° Response sample</h4>
            <pre>{
  "online": true,
  "host": "play.example.com",
  "port": 25565,
  "latency_ms": 45,
  "players": { "online": 12, "max": 100 },
  "version": { "name": "Paper 1.20.1", "protocol": 763 }
}</pre>
            <div class="muted" style="margin-top:10px">If offline: <code>"online": false</code> plus an <code>"error"</code> message.</div>
          </div>

          <div class="box" style="margin-top:12px">
            <h4 style="margin:0 0 8px">üë§ Author</h4>
            <p><strong>Tronsar</strong></p>
            <p class="muted">Built with üíú for server admins & developers.</p>
          </div>
        </aside>
      </div>

      <footer>¬© Tronsar ‚Äî DutaStats v2 ‚Ä¢ Free to use ‚Ä¢ Attribution appreciated</footer>
    </div>
  </div>

<script>
  // === COPY BUTTONS ===
  document.querySelectorAll('.copy-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      const text = btn.parentElement.textContent.replace('Copy', '').trim();
      navigator.clipboard.writeText(text);
      btn.textContent = 'Copied!';
      btn.style.color = '#7ee787';
      setTimeout(() => {
        btn.textContent = 'Copy';
        btn.style.color = '';
      }, 1500);
    });
  });
</script>

<script>
const statusEl = document.getElementById('api-status');
const API_URL = "http://51.75.118.18:20002/dutastats/v2/api/health"; // endpoint Flask

async function checkAPI() {
  statusEl.textContent = "‚óè Checking...";
  statusEl.style.color = "#9ca3af";

  try {
    const res = await fetch(API_URL, { method: "GET", cache: "no-store" });
    if (!res.ok) throw new Error("HTTP " + res.status);

    const data = await res.json();
    if (data.status === "ok") {
      statusEl.textContent = "‚óè Online";
      statusEl.style.color = "#7ee787";
    } else {
      statusEl.textContent = "‚óè Unknown";
      statusEl.style.color = "#fbbf24";
    }
  } catch (err) {
    console.error("API offline:", err);
    statusEl.textContent = "‚óè Offline";
    statusEl.style.color = "#f87171";
  }
}

checkAPI();
setInterval(checkAPI, 60000); // auto refresh setiap 1 menit
</script>
</body>
</html>
