<!doctype html>
<html lang="id" dir="ltr">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>DutaAI v2 - Chat (ALPHA)</title>

<!-- SEO & Meta -->
<meta name="description" content="DutaAI v2 ‚Äì Superb AI Assistant with elegant tech design and intelligent chat interface.">
<meta name="theme-color" content="#10a37f">
<meta name="apple-mobile-web-app-title" content="DutaAI">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<link rel="apple-touch-icon" href="DutaAI.png">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="0">
<meta property="og:title" content="DutaAI v2 - Chat (ALPHA)">
<meta property="og:description" content="Superb AI Assistant with futuristic interface and smart boot animation.">
<meta property="og:image" content="DutaAI.png">
<meta name="robots" content="index, follow">
<meta property="og:type" content="website">
<meta property="og:url" content="https://tronsar.is-cool.dev/dutaai/v2/chat/">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="DutaAI v2 - Chat (ALPHA)">
<meta name="twitter:description" content="Superb AI Assistant with futuristic interface and smart boot animation.">
<meta name="twitter:image" content="DutaAI.png">
<meta name="mobile-web-app-capable" content="yes">
<link rel="apple-touch-startup-image" href="DutaAI.png">

<meta name="author" content="Tronsar Studio">
<meta name="keywords" content="AI Chat, DutaAI, Assistant, Artificial Intelligence, Chatbot">

<meta http-equiv="Content-Security-Policy"
      content="default-src 'self'; img-src 'self' data: https:; script-src 'self' https://cdn.jsdelivr.net; style-src 'self' https://fonts.googleapis.com 'unsafe-inline'; font-src https://fonts.gstatic.com;">

<meta http-equiv="Strict-Transport-Security" content="max-age=31536000; includeSubDomains">

<link rel="manifest" href="manifest.json" crossorigin="use-credentials">
<meta name="apple-mobile-web-app-capable" content="yes">

<!-- Favicon -->
<link rel="icon" type="image/png" href="DutaAI.png">

<!-- MathJax -->
<script>
window.MathJax = {
  loader: {
    load: [
      'input/tex',
      'output/chtml',
      'ui/menu',
      '[tex]/ams',
      '[tex]/color',
      '[tex]/noerrors',
      '[tex]/noundefined'
    ]
  },

  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]'], ['$$', '$$']],
    packages: {'[+]': ['ams', 'color', 'noerrors', 'noundefined']},
    processEscapes: true,
    processRefs: true,
    processEnvironments: true,
    tags: 'ams',
    tagSide: 'right',
    tagIndent: '0.8em',
    formatError: (jax, err) => {
      console.warn('[MathJax Error]', err.message);
      return jax.formatError(err);
    }
  },

  chtml: {
    scale: 1.05,
    displayAlign: 'center',
    displayIndent: '0',
    matchFontHeight: true,
    mtextInheritFont: true,
    merrorInheritFont: true,
    unknownFamily: 'serif',
    exFactor: 0.5,
    lineBreaks: { automatic: true, width: '95% container' }
  },

  options: {
    skipHtmlTags: [
      'script',
      'noscript',
      'style',
      'textarea',
      'pre',
      'code'
    ],
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process',
    renderActions: {
      addMenu: [] // disable menu kanan atas biar clean
    }
  },

  startup: {
    ready: () => {
      console.log('%c[MathJax] initialized (v3) ‚ú®', 'color:#22d3ee');
      MathJax.startup.defaultReady();
    },
    pageReady: () => {
      console.log('%c[MathJax] ready, rendering all equations...', 'color:#22d3ee');
      return MathJax.startup.defaultPageReady();
    }
  }
};
</script>

<script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js"></script>

<!-- Markdown parser -->
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/dompurify@2.4.0/dist/purify.min.js"></script>

<link rel="preload" href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" as="style">

<link rel="stylesheet" href="style.css"/>

<script src="main.js" defer></script>
<script src="loader.js" defer></script>

</head>
<body>

  <header>
    <div class="brand">
      <img src="DutaAI.png" alt="DutaAI Logo" class="logo">
      <div>
        <div class="title">DutaAI <span class="version">v2-beta-2</span></div>
        <div class="meta">Superb AI Assistant</div>
      </div>
    </div>
  </header>

<div id="loading-screen" aria-live="polite" role="status">
  <div class="terminal-boot" role="presentation" aria-hidden="false">
    <div class="boot-screen" aria-hidden="false">
      <div class="boot-window">
        <div id="bootLines" class="boot-lines" aria-hidden="false"></div>
<noscript>
  <div style="
    width:100%;
    padding: 20px;
    font-family:'JetBrains Mono', monospace;
    color:#00ff99;
    background:rgba(0,0,0,0.4);
    border-left:3px solid #00ff99;
    line-height:1.4;
  ">
    <div>> Initializing core...</div>
    <div>> Loading UI modules...</div>
    <div>> Mounting /duta/config...</div>
    <div>> ‚ö†Ô∏è <span style='color:#ff5555'>Error:</span> JavaScript engine not responding.</div>
    <div>> System halted.</div>
    <div style="margin-top:12px; color:#888;">[ Please enable JavaScript to continue booting DutaAI ]</div>
  </div>
</noscript>
      </div>
    </div>

    <div class="boot-right" aria-hidden="true">
      <div style="opacity:0.85; font-size:12px; color:rgba(255,255,255,0.7)">SYSTEM</div>
      <div class="duta-flash" id="dutaLabel">[ DUTA AI ]</div>
      <div class="duta-version" id="dutaLabelVersion">2.0-beta2</div>
      <div id="bootReady" class="boot-final">Ready.</div>
    </div>
  </div>
</div>

  <main role="main">
    <div id="chat" aria-live="polite" style="display:none;"></div>
  </main>

  <div id="controls">
    <button id="attachBtn" class="icon-btn" title="Lampirkan file" aria-label="Lampirkan file">üìé</button>
    <textarea id="input" placeholder="Ketik pertanyaanmu..." rows="1"></textarea>
    <button id="send" class="btn">Kirim</button>
  </div>

<script>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('./sw.js').then(() => {
    console.log('%c[ServiceWorker] Registered ‚úÖ', 'color:#10a37f');
  }).catch(err => {
    console.error('[ServiceWorker] Failed:', err);
  });
}
</script>
</body>
</html>
